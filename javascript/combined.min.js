(function(o){var n={},m,b,k=document,g=window,l=k.documentElement,c=o.expando;o.event.special.inview={add:function(d){n[d.guid+"-"+this[c]]={data:d,$element:o(this)};
},remove:function(e){try{delete n[e.guid+"-"+this[c]];}catch(f){}}};o(g).bind("scroll resize",function(){m=b=null;});!l.addEventListener&&l.attachEvent&&l.attachEvent("onfocusin",function(){b=null;
});setInterval(function(){var f=o(),h,q=0;o.each(n,function(r,j){var t=j.data.selector,s=j.$element;f=f.add(t?s.find(t):s);});if(h=f.length){var d;if(!(d=m)){var i={height:g.innerHeight,width:g.innerWidth};
if(!i.height&&((d=k.compatMode)||!o.support.boxModel)){d="CSS1Compat"===d?l:k.body,i={height:d.clientHeight,width:d.clientWidth};}d=i;}m=d;for(b=b||{top:g.pageYOffset||l.scrollTop||k.body.scrollTop,left:g.pageXOffset||l.scrollLeft||k.body.scrollLeft};
q<h;q++){if(o.contains(l,f[q])){d=o(f[q]);var e=d.height(),a=d.width(),p=d.offset(),i=d.data("inview");if(!b||!m){break;}p.top+e>b.top&&p.top<b.top+m.height&&p.left+a>b.left&&p.left<b.left+m.width?(a=b.left>p.left?"right":b.left+m.width<p.left+a?"left":"both",e=b.top>p.top?"bottom":b.top+m.height<p.top+e?"top":"both",p=a+"-"+e,(!i||i!==p)&&d.data("inview",p).trigger("inview",[!0,a,e])):i&&d.data("inview",!1).trigger("inview",[!1]);
}}}},250);})(jQuery);var anchoredLink,assetsChanged,browserCompatibleDocumentParser,browserIsntBuggy,browserSupportsPushState,cacheCurrentPage,changePage,constrainPageCacheTo,createDocument,crossOriginLink,currentState,executeScriptTags,extractLink,extractTitleAndBody,extractTrackAssets,fetchHistory,fetchReplacement,handleClick,ignoreClick,initializeTurbolinks,initialized,installClickHandlerLast,intersection,loadedAssets,noTurbolink,nonHtmlLink,nonStandardClick,pageCache,recallScrollPosition,referer,reflectNewUrl,reflectRedirectedUrl,rememberCurrentState,rememberCurrentUrl,rememberInitialPage,removeHash,requestMethod,requestMethodIsSafe,resetScrollPosition,targetLink,triggerEvent,visit,xhr,_ref,__hasProp={}.hasOwnProperty,__indexOf=[].indexOf||function(b){for(var a=0,c=this.length;
a<c;a++){if(a in this&&this[a]===b){return a;}}return -1;};initialized=false;currentState=null;referer=document.location.href;loadedAssets=null;pageCache={};
createDocument=null;requestMethod=((_ref=document.cookie.match(/request_method=(\w+)/))!=null?_ref[1].toUpperCase():void 0)||"";xhr=null;visit=function(a){if(browserSupportsPushState){cacheCurrentPage();
reflectNewUrl(a);return fetchReplacement(a);}else{return document.location.href=a;}};fetchReplacement=function(b){var a,c=this;triggerEvent("page:fetch");
a=removeHash(b);if(xhr!=null){xhr.abort();}xhr=new XMLHttpRequest;xhr.open("GET",a,true);xhr.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml");
xhr.setRequestHeader("X-XHR-Referer",referer);xhr.onload=function(){var d;d=createDocument(xhr.responseText);if(assetsChanged(d)){return document.location.reload();
}else{changePage.apply(null,extractTitleAndBody(d));reflectRedirectedUrl(xhr);if(document.location.hash){document.location.href=document.location.href;
}else{resetScrollPosition();}return triggerEvent("page:load");}};xhr.onloadend=function(){return xhr=null;};xhr.onabort=function(){return rememberCurrentUrl();
};xhr.onerror=function(){return document.location.href=b;};return xhr.send();};fetchHistory=function(b){var a;cacheCurrentPage();if(a=pageCache[b.position]){if(xhr!=null){xhr.abort();
}changePage(a.title,a.body);recallScrollPosition(a);return triggerEvent("page:restore");}else{return fetchReplacement(document.location.href);}};cacheCurrentPage=function(){rememberInitialPage();
pageCache[currentState.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset};
return constrainPageCacheTo(10);};constrainPageCacheTo=function(c){var a,d,b;b=[];for(a in pageCache){if(!__hasProp.call(pageCache,a)){continue;}d=pageCache[a];
if(a<=currentState.position-c){b.push(pageCache[a]=null);}else{b.push(void 0);}}return b;};changePage=function(b,a,c){document.title=b;document.documentElement.replaceChild(a,document.body);
if(c){executeScriptTags();}currentState=window.history.state;return triggerEvent("page:change");};executeScriptTags=function(){var q,y,g,b,k,z,d,x,w,p,j,v,m;
p=document.body.getElementsByTagName("script");m=[];for(z=0,x=p.length;z<x;z++){k=p[z];if(!((j=k.type)===""||j==="text/javascript")){continue;}y=document.createElement("script");
v=k.attributes;for(d=0,w=v.length;d<w;d++){q=v[d];y.setAttribute(q.name,q.value);}y.appendChild(document.createTextNode(k.innerHTML));b=k.parentNode,g=k.nextSibling;
b.removeChild(k);m.push(b.insertBefore(y,g));}return m;};reflectNewUrl=function(a){if(a!==document.location.href){referer=document.location.href;return window.history.pushState({turbolinks:true,position:currentState.position+1},"",a);
}};reflectRedirectedUrl=function(b){var a;if((a=b.getResponseHeader("X-XHR-Current-Location"))&&a!==document.location.pathname+document.location.search){return window.history.replaceState(currentState,"",a+document.location.hash);
}};rememberCurrentUrl=function(){return window.history.replaceState({turbolinks:true,position:Date.now()},"",document.location.href);};rememberCurrentState=function(){return currentState=window.history.state;
};rememberInitialPage=function(){if(!initialized){rememberCurrentUrl();rememberCurrentState();createDocument=browserCompatibleDocumentParser();return initialized=true;
}};recallScrollPosition=function(a){return window.scrollTo(a.positionX,a.positionY);};resetScrollPosition=function(){return window.scrollTo(0,0);};removeHash=function(b){var a;
a=b;if(b.href==null){a=document.createElement("A");a.href=b;}return a.href.replace(a.hash,"");};triggerEvent=function(b){var a;a=document.createEvent("Events");
a.initEvent(b,true,true);return document.dispatchEvent(a);};extractTrackAssets=function(f){var b,g,d,a,c;a=f.head.childNodes;c=[];for(g=0,d=a.length;g<d;
g++){b=a[g];if((typeof b.getAttribute==="function"?b.getAttribute("data-turbolinks-track"):void 0)!=null){c.push(b.src||b.href);}}return c;};assetsChanged=function(b){var a;
loadedAssets||(loadedAssets=extractTrackAssets(document));a=extractTrackAssets(b);return a.length!==loadedAssets.length||intersection(a,loadedAssets).length!==loadedAssets.length;
};intersection=function(f,b){var h,d,a,c,g;if(f.length>b.length){c=[b,f],f=c[0],b=c[1];}g=[];for(d=0,a=f.length;d<a;d++){h=f[d];if(__indexOf.call(b,h)>=0){g.push(h);
}}return g;};extractTitleAndBody=function(b){var a;a=b.querySelector("title");return[a!=null?a.textContent:void 0,b.body,"runScripts"];};browserCompatibleDocumentParser=function(){var c,a,d,b;
c=function(f){return(new DOMParser).parseFromString(f,"text/html");};a=function(g){var f;f=document.implementation.createHTMLDocument("");f.open("replace");
f.write(g);f.close();return f;};if(window.DOMParser){d=c("<html><body><p>test");}if((d!=null?(b=d.body)!=null?b.childNodes.length:void 0:void 0)===1){return c;
}else{return a;}};installClickHandlerLast=function(a){if(!a.defaultPrevented){document.removeEventListener("click",handleClick);return document.addEventListener("click",handleClick);
}};handleClick=function(b){var a;if(!b.defaultPrevented){a=extractLink(b);if(a.nodeName==="A"&&!ignoreClick(b,a)){visit(a.href);return b.preventDefault();
}}};extractLink=function(b){var a;a=b.target;while(!(!a.parentNode||a.nodeName==="A")){a=a.parentNode;}return a;};crossOriginLink=function(a){return location.protocol!==a.protocol||location.host!==a.host;
};anchoredLink=function(a){return(a.hash&&removeHash(a))===removeHash(location)||a.href===location.href+"#";};nonHtmlLink=function(a){return a.href.match(/\.[a-z]+(\?.*)?$/g)&&!a.href.match(/\.html?(\?.*)?$/g);
};noTurbolink=function(b){var a;while(!(a||b===document)){a=b.getAttribute("data-no-turbolink")!=null;b=b.parentNode;}return a;};targetLink=function(a){return a.target.length!==0;
};nonStandardClick=function(a){return a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey;};ignoreClick=function(b,a){return crossOriginLink(a)||anchoredLink(a)||nonHtmlLink(a)||noTurbolink(a)||targetLink(a)||nonStandardClick(b);
};initializeTurbolinks=function(){document.addEventListener("click",installClickHandlerLast,true);return window.addEventListener("popstate",function(b){var a;
if((a=b.state)!=null?a.turbolinks:void 0){return fetchHistory(b.state);}});};browserSupportsPushState=window.history&&window.history.pushState&&window.history.replaceState&&window.history.state!==void 0;
browserIsntBuggy=!navigator.userAgent.match(/CriOS\//);requestMethodIsSafe=requestMethod==="GET"||requestMethod==="";if(browserSupportsPushState&&browserIsntBuggy&&requestMethodIsSafe){initializeTurbolinks();
}this.Turbolinks={visit:visit};window.addEventListener("load",function(a){window.applicationCache.addEventListener("updateready",function(b){if(window.applicationCache.status==window.applicationCache.UPDATEREADY){window.applicationCache.swapCache();
if(confirm("A new version of this site is available. Load it?")){window.location.reload();}}else{}},false);},false);if(navigator.userAgent.match(/iPhone/i)){window.addEventListener("load",function(){setTimeout(function(){window.scrollTo(0,1);
},500);});}function supportsLocalStorage(){try{return"localStorage" in window&&window.localStorage!==null;}catch(a){return false;}}function save(){if(!supportsLocalStorage()){return false;
}if(localStorage.display_grid){localStorage.removeItem("display_grid");}else{localStorage.display_grid="yes";}load();}function load(){if(localStorage.display_grid==="yes"){$("body").addClass("has_grid");
$(".grid .hidden").removeClass().addClass("visible");$(".grid span:nth-of-type(1)").removeClass().addClass("hidden");}else{$("body").removeClass();$(".grid .visible").removeClass().addClass("hidden");
$(".grid span:nth-of-type(1)").removeClass().addClass("visible");}}load();$(".grid").click(function(){save();return false;});var devicePixelRatio=window.devicePixelRatio||1,screenWidth=window.innerWidth*devicePixelRatio;
$(".image_container").one("inview",function(a,b){if(b){$(this).children().each(function(){var g=$(this)[0];var e=g.getAttribute("data-alt");var f=g.getAttribute("data-src");
var d=g.getAttribute("data-src-retina");var c=document.createElement("img");if(e){c.setAttribute("alt",e);}if(screenWidth>1260){c.setAttribute("src",d);
}else{c.setAttribute("src",f);}$(this).parent().append(c);});}});$(".twitter_button").hover(function(){$(this).addClass("pulse");},function(){$(this).removeClass("pulse");
});$(".previous_post").hover(function(){$("body").addClass("move_right");},function(){$("body").removeClass("move_right");});$(".next_post").hover(function(){$("body").addClass("move_left");
},function(){$("body").removeClass("move_left");});$(".design_images").hover(function(){var b=-1,a;$(this).children().each(function(){b++;});a=99/b;$(this).children(".image_container").css("width",a+"%");
$(this).children(".cover_image").css("display","none");},function(){$(this).children(".cover_image").css("display","block");});$("body").mouseup(function(b){var a=$(".expand_container>div");
if(b.target.className=="icon case_study_icon load_external_content changed_to_close"){}else{if(a.has(b.target).length===0){if(expanded==true){hidesCaseStudy();
}}}});$("body").keydown(function(b){if(b.metaKey||b.ctrlKey){}else{if(b.keyCode===27){hidesCaseStudy();}if(b.keyCode===37){var a=$(".previous_post").attr("href");
if(a!==undefined){window.location=a;}}if(b.keyCode===39){var a=$(".next_post").attr("href");if(a!==undefined){window.location=a;}}if((b.keyCode===87)||(b.keyCode===72)){var a=$(".work").attr("href");
if(a!==undefined){window.location=a;}}if(b.keyCode===65){var a=$(".about").attr("href");if(a!==undefined){window.location=a;}}if(b.keyCode===66){var a=$(".blog").attr("href");
if(a!==undefined){window.location=a;}}if((b.keyCode===67)||(b.keyCode===77)){var a=$(".contact").attr("href");if(a!==undefined){window.location=a;}}}});
var expanded=false,scroll_position;oldPageTitle=$(document).attr("title");hashURL=location.hash.substr(1);if(hashURL!==""){$("section").each(function(){var b=$(this).find("a:first");
var a=b.attr("href");if(a==hashURL){var c=b.parent("section");loadCaseStudy(c,a);}});}$(".load_external_content").click(function(b){b.preventDefault();
var c=$(this).parent("section");var a=$(this).attr("href");loadCaseStudy(c,a);return false;});function loadCaseStudy(d,a){if(expanded==true){hidesCaseStudy();
}else{var b=d.find("a").addClass("changed_to_close");d.addClass("expand_container");d.parent().addClass("is_expanded");$("body").addClass("expanded");if(hashURL!==""){var c=b.offset().top;
scroll_position=c-600;}else{scroll_position=$(window).scrollTop();}document.location.hash=a;d.append($(document.createElement("div")).load(a+" #content_to_load",function(e){var f=e.match(/<title>([^<]*)/)[1];
document.title=f;}).html('<p class="loading">Loading&#8230;</p>').hide().fadeIn("slow"));$("html, body").animate({scrollTop:d.parent("div").offset().top},500);
d.parent().nextAll().addClass("hidden");expanded=true;}}function hidesCaseStudy(){$("title").text(oldPageTitle);window.history.replaceState("",document.title,window.location.pathname+window.location.search);
var a=$(".expand_container");a.children("a.case_study_icon").removeClass("changed_to_close");a.removeClass("expand_container");a.parent().removeClass("is_expanded");
$("body").removeClass("expanded");a.children("div").remove();$("html, body").animate({scrollTop:scroll_position},500);a.parent().nextAll().removeClass("hidden");
expanded=false;return false;}